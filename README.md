# ToDo Counter

Google Tasksの「期限切れ + 今日」のタスク数を常に表示し、日々のタスク完了数を記録・可視化するAndroidアプリ。

## 機能

### オーバーレイ
- 画面上にフローティングオーバーレイで残りタスク数を常時表示
- 5分ごとに自動同期
- タップで即更新（バイブでフィードバック）
- 長押しでGoogle Tasksアプリを起動
- タスク0件でオーバーレイ自動非表示
- 端末再起動時に自動復帰

### ダッシュボード
- **棒グラフ**: 週間/月間の完了数推移を表示
- **ヒートマップ**: GitHub風の12週間アクティビティカレンダー
- **統計サマリー**: 合計完了数、日平均、最高記録、連続日数
- **タスク詳細**: 日付タップで完了タスク名を一覧表示

### データ同期
- Google Tasks APIから過去の完了タスクを取得
- 設定画面から同期期間を選択（30 / 90 / 180 / 365日）
- タスク名・完了日時をローカルDBに保存
- オフラインでも統計・タスク詳細を表示可能

## 画面構成

| 画面 | 説明 |
|---|---|
| Home | 残りタスク数 + 今日の完了数 + 連続日数 |
| Dashboard | 棒グラフ + ヒートマップ + 統計 |
| Settings | アカウント情報 + 権限設定 + データ同期 |

## アニメーション

### オーバーレイ

| アニメーション | 説明 |
|---|---|
| 表示/非表示 | スケール + フェード + バウンス効果 |
| タップ | 押し込み (0.75x) → バウンス戻り (1.25x) |
| ドラッグ | スケールアップ (1.1x) → バウンス戻り |
| アイドル | ゆっくりとした呼吸効果 (2秒周期) |
| タスク減少時 | 一回転 + 緑色 + チェックマーク表示 |

### ダッシュボード

| アニメーション | 説明 |
|---|---|
| カード表示 | フェードイン + 下からスライド（順次遅延） |

## 技術スタック

- **UI**: Jetpack Compose + Material 3
- **ナビゲーション**: Navigation Compose
- **データベース**: Room
- **アーキテクチャ**: MVVM + Repository パターン
- **API**: Google Tasks API

## セットアップ

### Google Cloud Console

1. プロジェクトを作成
2. 「Google Tasks API」を有効化
3. OAuth同意画面を設定（外部 / テストモード）
4. 自分のGoogleアカウントをテストユーザーに追加
5. 認証情報 → OAuthクライアントID作成（**Android**タイプ）
   - パッケージ名: `com.tachibanayu24.todocounter`
   - SHA-1: デバッグ用は `./gradlew signingReport` で取得

### ビルド

```bash
# Android Studioでビルド、または
./gradlew assembleDebug
```

## 必要な権限

| 権限 | 用途 |
|---|---|
| オーバーレイ表示 | 画面上にタスク数を表示 |
| バッテリー最適化の除外 | バックグラウンドで定期更新 |
| ブート完了の受信 | 端末再起動後の自動復帰 |
| インターネット | Google Tasks APIとの通信 |

## ライセンス

MIT
